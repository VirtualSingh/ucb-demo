<div class="grid-flex">
  <div class="header">
    <a href="index.html" class="logo">
      <img src="assets/ucb-logo.png" alt="company logo" class="logo__img" />
    </a>
  </div>
  <div class="main">
    <!-- <div class="component-wrapper"> -->
    <form class="form" [formGroup]="multiStep" (ngSubmit)="onSubmit()">
      <div class="card" *ngIf="step === 1" formGroupName="patientDetails">
        <h3 class="title">Patient Details</h3>
        <p class="text sub-title">
          Could you provide us with the following data from your patient?
        </p>
        <div class="field-set">
          <div class="input-group">
            <label for="initials">Patient Initials</label>
            <input
              type="text"
              formControlName="patient_initials"
              id="patient_initials"
              placeholder="Patient initials"
            />
          </div>
          <div class="input-group">
            <label for="dob">Patient date of birth</label>
            <input
              type="date"
              formControlName="patient_dob"
              id="patient_dob"
              placeholder="Date"
            />
          </div>
        </div>
        <p class="text">
          What is the date of the last menstruation and/or estimated date of
          childbirth?
        </p>
        <div class="field-set">
          <div class="input-group">
            <label for="menstrual_date"
              >First day of last menstrual period</label
            >
            <input
              type="date"
              formControlName="menstrual_date"
              id="menstural_date"
              placeholder="Date"
            />
          </div>
          <div class="input-group">
            <label for="estimated_dob">Estimated Birth date</label>
            <input
              type="date"
              formControlName="estimated_dob"
              id="estimated_dob"
              placeholder="Date"
            />
          </div>
        </div>
      </div>
      <div class="card" *ngIf="step === 2">
        <h3 class="title">Medications</h3>
        <p class="text">
          Could you tell us what medication was taken by the patient during
          pregnancy?
        </p>
        <div class="checkbox__group">
          <!-- <div class="input-set">
              <div class="form-control"></div>
            </div> -->
           
          <div class="form-control">
            <input type="checkbox" id="cimzia" value="Cimzia"  (change)="onDrugsChange($event)" formArrayName="drugs" />
            <label for="cimzia">Cimzia</label>
          </div>
           
          <div class="form-control" style="grid-area: levetiracetam">
            <input type="checkbox" id="levetiracetam" value="Levetiracetam" (change)="onDrugsChange($event)" formArrayName="drugs"/>
            <label for="levetiracetam">levetiracetam</label>
          </div>
          <div class="form-control" style="grid-area: others">
            <input type="checkbox" id="others" value="Others" (change)="onDrugsChange($event)"  formArrayName="drugs"/>
            <label for="others">others</label>
          </div>
          <div class="form-control" style="grid-area: briviact">
            <input type="checkbox" id="briviact" value="Briviact" (change)="onDrugsChange($event)"  formArrayName="drugs"/>
            <label for="briviact">briviact</label>
          </div>
          <div class="form-control" style="grid-area: vimpat">
            <input type="checkbox" id="vimpat" value="Vimpat" (change)="onDrugsChange($event)"  formArrayName="drugs"/>
            <label for="vimpat">vimpat</label>
          </div>
          <div class="form-control" style="grid-area: keppra">
            <input type="checkbox" id="keppra" value="Keppra" (change)="onDrugsChange($event)" formArrayName="drugs" />
            <label for="keppra">keppra</label>
          </div>
          <div class="form-control" style="grid-area: xyrem">
            <input type="checkbox" id="xyrem" value="Xyrem" (change)="onDrugsChange($event)" formArrayName="drugs" />
            <label for="xyrem">xyrem</label>
          </div>
        </div>
        <div class="tab__group">
          <p>
            Drug name/dosage/indication/start and end dates of treatment of the
            drugs indicated in the previous question.
          </p>
          <p-tabView>
            <ng-container formArrayName="medicationArray">
              <ng-container  *ngFor="let med of multiStep.controls.medicationArray['controls']; let i = index;" [formGroupName]="i">
              <p-tabPanel header="Medication 1" >
                <div class="inputs">
                  <div class="input-control">
                    <label for="drugName" >Drug Name</label>
                    <input
                        type="text" 
                        id="drugName" formControlName="drugName"
                        placeholder="Name of the Medication"
                      />
                  </div>

                  <div class="input-control">
                    <label for="drugName" >Drug Name</label>
                    <div class="input-control--group">
                      <input type="text" class="input--sm"
                      id="dosage" placeholder="Dose" formControlName="dosage" />
                      <select id="dosageUnit" formControlName="dosageUnit"  >
                        <option value="Mg">mg</option>
                        <option value="ml">ml</option>
                        <option value="drops">drops</option>
                      </select>
                    </div>
                  </div>

                  <div class="input-control">
                    <label for="frequency">Frequency</label>
                    <select id="frequency" formControlName="frequency">
                      <option value="regular">Regular</option>
                      <option value="weekly">Weekly</option>
                      <option value="monthly">Monthly</option>
                    </select>
                  </div>

                </div>

                <p style="margin-bottom: 2px; margin-top: 20px">
                  When did the patient start/stop the medication?
                </p>
                <div class="input-group">
                  <div class="form-control">
                    <input type="Date" id="startDate" formControlName="startMedicationDate" placeholder="Start Date" />
                  </div>
                  <div class="form-control">
                    <input type="Date" id="stopDate" formControlName="stopMedicationDate" placeholder="Stop Date" />
                  </div>
                </div>
                <div>
                <label
                  for="textarea"
                  style="display: inline-block; margin-top: 20px"
                  >Indication</label
                >
                <textarea
                  class="textarea textarea--sm"
                  id="textarea"
                  cols="30"
                  rows="10"
                  placeholder="indication"
                  style="resize: none"
                  formControlName="indication"
                ></textarea>
                </div>
              </p-tabPanel>
              </ng-container>
            </ng-container>

          </p-tabView>
        </div>
      </div>
      <div class="card" *ngIf="step === 3">
        <h3 class="title">Medical History</h3>
        <p class="text">
          Please, provide patientÂ´s medical history (free text)
        </p>
        <textarea
          class="textarea"
          name=""
          id=""
          cols="30"
          rows="8"
          style="resize: none"
          placeholder="Medical history"
        ></textarea>
      </div>
      <div class="card" *ngIf="step === 4">
        <h3 class="card__title">Complications</h3>
        
        <p class="section__title">
          During the previous pregnancies did the patient experience any of the
          following complications?
        </p>
        <div class="radio__group">
          <div class="radio__group-row">
            <div class="form-control">
              <input type="radio" name="complications" />
              <label>No complications in the past</label>
            </div>
            <div class="form-control">
              <input type="radio" name="complications" />
              <label>Gestational Diabetes</label>
            </div>
          </div>
          <div class="radio__group-row">
            <div class="form-control">
              <input type="radio" name="complications" />
              <label>Miscarriage</label>
            </div>
            <div class="form-control">
              <input type="radio" name="complications" />
              <label>Preeclapsia</label>
            </div>
          </div>
          <div class="radio__group-row">
            <div class="form-control">
              <input type="radio" name="complications" />
              <label>Choice Abortion</label>
            </div>
            <div class="form-control">
              <input type="radio" name="complications" />
              <label>Preterm birth</label>
            </div>
          </div>
          <div class="radio__group-row">
            <div class="form-control">
              <input type="radio" name="complications" />
              <label>Ectopic or molar pregnancy</label>
            </div>
            <div class="form-control">
              <input type="radio" name="complications" />
              <label>Unknown</label>
            </div>
          </div>
          <div class="radio__group-row">
            <div class="form-control">
              <input type="radio" name="complications" />
              <label>Fetal death</label>
            </div>
          </div>
        </div>
        <p class="section__title" style="margin-top: 34px">
          Fill in only when the outcome of pregnancy is known:
        </p>
        <div class="input__date">
          <label>Date of pregnancy outcome</label>
          <input type="date" />
        </div>
        <div class="radio__group">
          <p class="radio__group-title">
            What has been the outcome of pregnancy?
          </p>
          <div class="radio__group-row">
            <div class="form-control">
              <input type="radio" name="complications" />
              <label>Born alive at term</label>
            </div>
            <div class="form-control">
              <input type="radio" name="complications" />
              <label>Misscarriage</label>
            </div>
          </div>
          <div class="radio__group-row">
            <div class="form-control">
              <input type="radio" name="complications" />
              <label>Born preterm Live (before week 38)</label>
            </div>
            <div class="form-control">
              <input type="radio" name="complications" />
              <label>Choice Abortion</label>
            </div>
          </div>
          <div class="radio__group-row">
            <div class="form-control">
              <input type="radio" name="complications" />
              <label>Stillbirth</label>
            </div>
            <div class="form-control">
              <input type="radio" name="complications" />
              <label
                >Abortion of choice for medical reasons (ectopic pregnancy,
                molar or others)</label
              >
            </div>
          </div>
        </div>
        <p class="section__title" style="margin-top: 10px">
          Information about the newborn
        </p>
        <div class="radio__group radio__group--sm">
          <p class="radio__group-title">Gender</p>
          <div class="radio__group-input">
            <input type="radio" name="gender" />
            <label>Male</label>
          </div>
          <div class="radio__group-input">
            <input type="radio" name="gender" />
            <label>Female</label>
          </div>
          <div class="radio__group-input">
            <input type="radio" name="gender" />
            <label>Other</label>
          </div>
        </div>

        <div class="inputs">
          <div class="input-control">
            <label>Length</label>
            <div class="input-control--group">
              <input type="text" class="input input--sm" />
              <select>
                <option value="cm">Cm</option>
                <option value="inch">Inch</option>
              </select>
            </div>
          </div>
          <div class="input-control">
            <label>Length</label>
            <div class="input-control--group">
              <input type="text" class="input input--sm" />
              <select>
                <option value="cm">Cm</option>
                <option value="inch">Inch</option>
              </select>
            </div>
          </div>
          <div class="input-control">
            <label>Length</label>
            <div class="input-control--group">
              <input type="text" class="input" />
            </div>
          </div>
        </div>

        <div class="textarea__group">
          <div class="textarea__wrapper">
            <label class="textarea__wrapper-title"
              >Has the newborn suffered congenital malformation(s)/defect(s)?
              please provide details for each defect</label
            >
            <textarea
              class="textarea"
              cols="30"
              rows="10"
              style="resize: none"
              placeholder="details"
            ></textarea>
          </div>
          <div class="textarea__wrapper">
            <label class="textarea__wrapper-title"
              >Has the newborn suffered congenital malformation(s)/defect(s)?
              please provide details for each defect</label
            >
            <textarea
              class="textarea"
              cols="30"
              rows="10"
              style="resize: none"
              placeholder="details"
            ></textarea>
          </div>
          <div class="textarea__wrapper">
            <label class="textarea__wrapper-title"
              >Has the newborn suffered congenital malformation(s)/defect(s)?
              please provide details for each defect</label
            >
            <textarea
              class="textarea"
              cols="30"
              rows="10"
              style="resize: none"
              placeholder="details"
            ></textarea>
          </div>
        </div>
      </div>
      <div class="card card__confirmation" *ngIf="step === 5">
        <div class="content__wrapper">
          <h4>Thank You!</h4>
          <p class="para">
            Your report has been successfully submitted and will be reviewed.
            <br />
            Copy of report has been sent to your email. <br />
            If permitted, we will contact you if we require more information to
            fully assess your case.
          </p>
          <p class="para">The reference number is</p>
          <h2>
            VHS32434YDK
            <i
              class="pi pi-copy"
              style="font-size: 1.5rem; cursor: pointer; font-weight: 300"
            ></i>
          </h2>
          <button class="btn">
            <i class="pi pi-download"></i>
            DOWNLOAD REPORT (PDF)
          </button>
          <small
            >Did you know that every single report is valuable in bringing new
            insights to the product safety profile? <br />
            Your submission supports our mission in putting patient's safety
            first! <br />
            Check out
            <a href="" style="color: #fff"> https://www.patientsucb.com </a>
            to learn more about the benefits and risks of drugs, and what <br />
            we do to ensure the safety of our products.</small
          >
        </div>
      </div>
    </form>
    <!-- </div> -->
    <app-steps *ngIf="step <= 4"></app-steps>
  </div>

  <div class="footer" *ngIf="step <= 4">
    <a class="btn__tertiary btn__tertiary--text" (click)="onClickPrev()"
      >back</a
    >
    <button class="btn__tertiary btn__tertiary--active" (click)="onClickNext()">
      next
    </button>
  </div>
</div>
